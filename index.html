<link rel="stylesheet" href="index.css" type="text/css" media="all" />

<!-- INCLUDE SCRIPTS -->
<!--[if lt IE 9]>
  <script src="excanvas.compiled.js"></script>
<![endif]-->
      <script src="lib/jquery.min.js"></script>
    <script src="lib/underscore-min.js"></script>
  <script src="src/util.js"></script>
  <script src="src/R.js"></script>
  <script src="src/game/Sprite.js"></script>
  <script src="src/game/area/PhysicsSprite.js"></script>
  <script src="src/game/area/Enemy.js"></script>
  <script src="src/App.js"></script>
  <script src="src/Debug.js"></script>
  <script src="src/Input.js"></script>
  <script src="src/Mobile.js"></script>
  <script src="src/R.areas.js"></script>
  <script src="src/R.sprites.js"></script>
  <script src="src/ResourceManager.js"></script>
  <script src="src/game/Game.js"></script>
  <script src="src/game/SpriteGroup.js"></script>
  <script src="src/game/area/Area.js"></script>
  <script src="src/game/area/AreaHUD.js"></script>
  <script src="src/game/area/PlayerSprite.js"></script>
  <script src="src/game/overworld/OWEncounter.js"></script>
  <script src="src/game/overworld/OWPlayer.js"></script>
  <script src="src/game/overworld/Overworld.js"></script>
  <script src="src/game/area/enemy/Bot.js"></script>
  <script src="src/game/area/enemy/EnemyFireball.js"></script>
  <script src="src/game/area/enemy/Octorok.js"></script>
  <script src="src/game/area/object/Fairy.js"></script>
  <script src="src/game/area/object/HeartContainer.js"></script>
  <script src="src/game/area/object/Key.js"></script>
  <script src="src/game/area/particle/SampleParticle.js"></script>

<!-- INIT CODE -->
<script>
  
  var forceMobile = false;
  
  if (window.location.href === "http://dl.dropbox.com/u/29873255/aolbackup/index.html") { $(function() { $('.production-toggle').toggle(); }); }
  
  // init App
  window.onload = function() {
    Mobile.init(function() {
      App.init();
    }, forceMobile);
  };
  
</script>

<!-- DEBUG PANEL -->
<div id="debug-panel" class="mobile-toggle production-toggle" style="background-color: #fff; padding: 10px; border: 1px solid #ddd; margin: 10px; position: absolute; text-align: left;">
  
  <div style="float: right;"><a href="#" onclick="$('.production-toggle').toggle(); return false;" style="color: #ccc; font: 10px bold monospace; padding: 5px; margin-right: -6px;">X</a></div>
  
  <button onclick="Game.reset();">Reset Game</button>
  Area: <select id="areaDropdown" onchange="Debug.teleportToArea($(this).val());"></select>
  </br>
  
  <label><input type="checkbox" onclick="Debug.clickToTeleport = $(this).is(':checked');"> Click to teleport</label><br/>
  
  Simulation Speed: <input id="simSpeed" value="1.0000000000" onchange="var s = parseFloat($(this).val()); if (s > 0) { App.SIM_SPEED = s; }" onkeydown="$(this).change();">
  <button onclick="$('#simSpeed').val(($('#simSpeed').val() * 2).toFixed(10)).change();">+</button>
  <button onclick="$('#simSpeed').val(($('#simSpeed').val() / 2).toFixed(10)).change();">-</button><br/>
  
  Time Step: <select onchange="Debug.timestep = $(this).val();">
    <option>variable</option>
    <option>1/30</option>
    <option>1/60</option>
  </select><br/>
  
  Render Strategy: <select onchange="Debug.updateLoop = $(this).val();">
    <option>setTimeout</option>
    <option>requestAnimationFrame</option>
    <option>aggressive</option>
  </select><br/>
  
  <label><input type="checkbox" onclick="Debug.showHitboxes = $(this).is(':checked');"> Show hitboxes</label><br/>
  
</div>

<!-- CANVAS -->
<canvas id="canvas" width="640" height="480">
  <div id="nocanvas">
    This page uses the <a href="http://en.wikipedia.org/wiki/Canvas_element">HTML5 Canvas Element</a>,
    which is supported by virtually all modern web browsers and the newest Internet Explorer.
    Please upgrade your browser and reload this page.
  </div>
</canvas>

<!-- STATUS BAR -->
<div id="statusbar" class="production-toggle" style="width: 640px; margin: auto; text-align: left; background-color: #999; color: white; height: 20px; padding: 0 10px 0px;">
  <div id="running" style="float: left; width: 160px;">
    <span style="width: 80px;">
      <span id="fps-render">??</span> FPS
    </span>
    <span style="width: 80px;">
      <span id="skipped">??</span>
    </span>
  </div>
  <div style="float: left; width: 90px;">x: <span id="playerX"></span></div>
  <div style="float: left; width: 90px;">y: <span id="playerY"></span></div>
  <div style="float: left; width: 90px;">vx: <span id="playerVX"></span></div>
  <div style="float: left; width: 90px;">vy: <span id="playerVY"></span></div>
</div>
<div style="clear: both;"></div>

<!-- INSTRUCTIONS -->
<div class="mobile-toggle">

  <table style="margin: auto; margin-top: 10px;" id="controls">
    <!--
    <tr><th>Move</th>  <td>&lt;left&gt; and &lt;right&gt;</td></tr>
    <tr><th>Crouch</th><td>&lt;down&gt;</td></tr>
    <tr><th>Jump</th>  <td>&lt;shift&gt; or &lt;Z&gt;</td></tr>
    <tr><th>Attack</th><td>&lt;ctrl&gt;  or &lt;X&gt;</td></tr>
    -->
    <tr><th><span>Move &amp; Crouch</span></th><td><span>arrow keys</span></td></tr>
    <tr><th><span>Jump</span></th><td><span>spacebar</span></td></tr>
    <tr><th><span>Attack</span></th><td><span>ctrl</span></td></tr>
  </table>
  
  <div class="production-toggle" style="background-color: #ddd; padding: 10px; border: 1px solid #999; display: inline-block; margin-top: 10px;">
    <strong style="color: red;">THIS IS THE DEVELOPMENT VERSION!</strong><br/>If things are broken, <a href="http://dl.dropbox.com/u/29873255/aolbackup/index.html">try the latest stable version</a>
  </div>
  
</div>

